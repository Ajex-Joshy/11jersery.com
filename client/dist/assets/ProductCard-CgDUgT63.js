import{c as u,j as e,P as s,L as g,g as c}from"./index-B5Zfx6Dp.js";import{S as d}from"./star-CBlQbPWA.js";const x=[["path",{d:"M12 18.338a2.1 2.1 0 0 0-.987.244L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.12 2.12 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.12 2.12 0 0 0 1.597-1.16l2.309-4.679A.53.53 0 0 1 12 2",key:"2ksp49"}]],p=u("star-half",x),m=({rating:r,size:t=16})=>{const a=Math.floor(r),l=r%1>=.5,n=5-a-(l?1:0);return e.jsxs("div",{className:"flex items-center text-yellow-400",children:[[...Array(a)].map((i,o)=>e.jsx(d,{fill:"currentColor",size:t,strokeWidth:0},`full-${o}`)),l&&e.jsx(p,{fill:"currentColor",size:t,strokeWidth:0},"half"),[...Array(n)].map((i,o)=>e.jsx(d,{size:t,strokeWidth:1},`empty-${o}`))]})};m.propTypes={rating:s.number.isRequired,size:s.number};const h=({product:r})=>{console.log("product card",r);const t=r.price.list,a=r.price.sale,l=a<t,n=l?Math.round((t-a)/t*100):0,i=r.rating?.average;return e.jsxs(g,{to:`/product/${r.slug}`,className:"group block overflow-hidden bg-white rounded-xl shadow-sm hover:shadow-lg transition-shadow duration-300 border border-gray-100 flex flex-col",children:[e.jsx("div",{className:"aspect-square overflow-hidden bg-gray-100 rounded-t-xl",children:e.jsx("img",{src:r?.imageUrls?.[0]||r?.imageUrl,alt:r.title,className:"w-full h-full object-contain transition-transform duration-300 group-hover:scale-105 mix-blend-multiply",onError:o=>{o.target.src="https://acube.delighterp.com/uploaded/acube_delighterp_com/product/default_product_image.jpg"}})}),e.jsxs("div",{className:"p-4 space-y-2 flex flex-col grow",children:[e.jsx("h3",{className:"text-sm md:text-base font-semibold text-gray-900 leading-tight group-hover:text-blue-600 mb-1",children:r.title}),i!=null&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(m,{rating:i,size:16})," ",e.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[i.toFixed(1),"/5"]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-auto pt-2",children:[" ",e.jsx("span",{className:"text-lg font-bold text-gray-900",children:c(a)}),l&&e.jsx("span",{className:"text-sm text-gray-500 line-through",children:c(t)}),l&&e.jsxs("span",{className:"text-xs font-semibold bg-red-100 text-red-700 px-2 py-0.5 rounded-full",children:["-",n,"%"]})]})]})]})};h.propTypes={product:s.shape({_id:s.string.isRequired,slug:s.string.isRequired,title:s.string.isRequired,imageUrls:s.arrayOf(s.string).isRequired,price:s.shape({list:s.number.isRequired,sale:s.number.isRequired}).isRequired,rating:s.shape({average:s.number})}).isRequired};export{h as P,m as S};
