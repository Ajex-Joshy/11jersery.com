import{c as n,m,s as x,j as e,a1 as u,W as l,a9 as h,n as p}from"./index-BqlAPq8n.js";import{u as f}from"./userHooks-BpYF6INT.js";const g=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],b=n("mail",g);const j=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],y=n("phone",j),N=s=>{if(!s||s.length<8)return"N/A";try{const a=parseInt(s.substring(0,8),16)*1e3;return new Date(a).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}catch(a){return console.error("Error parsing ObjectId:",a),"N/A"}},o=({icon:s,label:a,value:t})=>e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center text-xs font-semibold text-gray-500 uppercase mb-1",children:[e.jsx(s,{size:14,className:"mr-2"}),a]}),e.jsx("p",{className:"text-md text-gray-800 ml-[22px]",children:t||"Not provided"})]}),k=()=>{const{data:s,isLoading:a,isError:t,error:i}=f(),c=m(x);if(a)return e.jsx(u,{text:"Loading your profile..."});if(t)return e.jsx(l,{error:i});const r=s?.data||c;if(!r)return e.jsx(l,{error:{message:"Could not load user data."}});const d=N(r._id);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Hello, ",r.firstName]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Member Since"}),e.jsx("p",{className:"text-md text-gray-800",children:d})]}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-100 flex flex-col md:flex-row items-start gap-8",children:[e.jsx("div",{className:"shrink-0 w-32 h-32 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden border-4 border-white shadow-md",children:e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/5951/5951752.png",alt:"Profile",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex my-auto space-x-10",children:[e.jsx(o,{icon:h,label:"Full Name",value:`${r.firstName} ${r.lastName}`}),e.jsx(o,{icon:b,label:"Email Address",value:r.email}),e.jsx(o,{icon:y,label:"Phone Number",value:r.phone||"Not provided"})]})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Referral & Earn"}),e.jsxs("p",{className:"text-xs text-gray-600 mt-3",children:["For every successful referral, you will receive"," ",e.jsx("span",{className:"font-semibold",children:"10% discount"})," up to"," ",e.jsx("span",{className:"font-semibold",children:"â‚¹100"})," on your next order."]}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Your Referral Code"}),e.jsx("p",{className:"text-xl font-bold tracking-widest text-gray-900",children:r.referralCode})]}),e.jsx("button",{onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/?ref=${r.referralCode}`),p.success("Referral link copied!",{duration:1800})},className:"px-4 py-2 text-sm font-semibold border border-gray-300 rounded-lg hover:bg-gray-200 active:scale-95 transition-all",children:"Copy Link"})]})]})]})};export{k as default};
