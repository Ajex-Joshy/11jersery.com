import{c as n,r as h,j as e,ap as p,N as g,P as t,T as f,X as y}from"./index-BqlAPq8n.js";import{C as j}from"./circle-x-CGnbaV9Z.js";import{T as v}from"./truck-CzD3DkHs.js";const N=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],w=n("check",N);const k=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],A=n("circle-alert",k);const C=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],D=n("info",C),x=[{key:"placedAt",label:"Order Placed",icon:p},{key:"confirmedAt",label:"Processing",icon:g},{key:"shippedAt",label:"Shipped",icon:v},{key:"deliveredAt",label:"Delivered",icon:w}],P=({timeline:d={},status:r="Pending"})=>{const l=h.useMemo(()=>{const s=r==="Cancelled",i=["Returned","Return Requested","Return Approved"].includes(r);let a=5;switch(r){case"Delivered":a=4;break;case"Shipped":a=3;break;case"Processing":a=2;break;case"Pending":a=1;break;default:a=0}return{isCancelled:s,isReturned:i,activeIndex:a}},[r]),m=s=>s?new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):null;if(l.isCancelled||l.isReturned){const s=d.cancelledAt||d.returnedAt||new Date().toISOString();return e.jsxs("div",{className:"w-full p-6 bg-red-50 border border-red-100 rounded-xl flex items-start gap-4 shadow-sm",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-full shrink-0",children:l.isCancelled?e.jsx(j,{className:"w-6 h-6 text-red-600"}):e.jsx(A,{className:"w-6 h-6 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-red-900",children:l.isCancelled?"Order Cancelled":`Order ${r}`}),e.jsxs("p",{className:"text-sm text-red-700 mt-1",children:["This order was ",l.isCancelled?"cancelled":"returned"," on"," ",m(s),"."]})]})]})}const u=l.activeIndex/x.length*100;return e.jsxs("div",{className:"w-full  mx-auto p-6 bg-white rounded-xl border border-gray-100 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-end mb-12 border-b border-gray-100 pb-4",children:[e.jsx("div",{children:e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Order Status"})}),e.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-semibold uppercase tracking-wide
          ${r==="Delivered"?"bg-emerald-100 text-emerald-700":"bg-blue-50 text-blue-700"}`,children:r})]}),e.jsxs("div",{className:"relative w-full px-4 md:px-8",children:[e.jsx("div",{className:"absolute top-5 left-0 w-full h-1 bg-gray-200 rounded-full"}),e.jsx("div",{className:"absolute top-5 left-0 h-1 bg-emerald-500 rounded-full transition-all duration-1000 ease-out",style:{width:`${u}%`}}),e.jsx("div",{className:"flex justify-between items-start w-full",children:x.map((s,i)=>{const a=i<=l.activeIndex-1,c=i===l.activeIndex-1,o=s.icon,b=d[s.key];return e.jsxs("div",{className:"flex flex-col items-center relative group w-24",children:[e.jsxs("div",{className:`
                    relative z-10 flex items-center justify-center w-10 h-10 md:w-12 md:h-12 rounded-full border-4 transition-all duration-500
                    ${a?"bg-emerald-500 border-emerald-500 text-white shadow-lg":"bg-white border-gray-200 text-gray-400"}
                    ${c&&r!=="Delivered"?"ring-4 ring-emerald-100 scale-110":""}
                  `,children:[a?e.jsx(o,{size:20,strokeWidth:2.5}):e.jsx(o,{size:20,strokeWidth:1.5}),c&&r!=="Delivered"&&e.jsx("span",{className:"absolute w-full h-full rounded-full bg-emerald-400 opacity-20 animate-ping"})]}),e.jsxs("div",{className:"mt-4 flex flex-col items-center text-center",children:[e.jsx("span",{className:`text-xs md:text-sm font-bold uppercase tracking-wider mb-1 transition-colors duration-300
                    ${a?"text-gray-900":"text-gray-400"}
                  `,children:s.label}),e.jsx("span",{className:"text-[10px] md:text-xs text-gray-500 font-medium bg-gray-50 px-2 py-1 rounded-md",children:new Date(b).toLocaleDateString(void 0,{month:"short",day:"numeric"})})]})]},s.key)})})]})]})};P.propTypes={timeline:t.shape({placedAt:t.string,confirmedAt:t.string,shippedAt:t.string,deliveredAt:t.string,cancelledAt:t.string,returnedAt:t.string}),status:t.string};const R=({isOpen:d,onClose:r,onProceed:l})=>d?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm animate-in fade-in duration-200",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden scale-100 animate-in zoom-in-95 duration-200 border border-white/20",children:[e.jsxs("div",{className:"bg-amber-50 p-5 border-b border-amber-100 flex items-start gap-4",children:[e.jsx("div",{className:"p-2 bg-amber-100 rounded-full text-amber-600 shrink-0 mt-0.5",children:e.jsx(f,{size:24})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-amber-900 leading-tight",children:"Order Value Update"}),e.jsx("p",{className:"text-amber-700/80 text-xs mt-1 font-medium uppercase tracking-wide",children:"Action Required"})]}),e.jsx("button",{onClick:r,className:"text-amber-700/60 hover:bg-amber-100 hover:text-amber-800 p-1 rounded-full transition-colors",children:e.jsx(y,{size:20})})]}),e.jsxs("div",{className:"p-6 space-y-5",children:[e.jsxs("p",{className:"text-gray-600 leading-relaxed text-base",children:["Cancelling this item will reduce your total order value below"," ",e.jsx("span",{className:"font-bold text-gray-900",children:"₹500"}),"."]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-100 flex gap-3 items-start",children:[e.jsx(D,{className:"text-blue-600 shrink-0 mt-0.5",size:18}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-semibold text-blue-900",children:"Delivery Fee Applicable"}),e.jsxs("p",{className:"text-sm text-blue-700 leading-relaxed",children:["A standard delivery fee of"," ",e.jsx("span",{className:"font-bold",children:"₹80"})," will be added to the remaining items in your order."]})]})]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 border-t border-gray-100 flex justify-end gap-3",children:[e.jsx("button",{onClick:r,className:"px-5 py-2.5 text-gray-600 font-semibold text-sm hover:bg-gray-200 rounded-lg transition-all",children:"Go Back"}),e.jsx("button",{onClick:l,className:"px-5 py-2.5 bg-amber-600 hover:bg-amber-700 text-white text-sm font-semibold rounded-lg shadow-sm transition-all flex items-center gap-2 hover:shadow-md active:scale-95",children:"I Understand, Proceed"})]})]})}):null;R.propTypes={isOpen:t.bool.isRequired,onClose:t.func.isRequired,onProceed:t.func.isRequired};export{R as F,P as O};
