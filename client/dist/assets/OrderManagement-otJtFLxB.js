import{c as j,j as e,N as f,at as b,P as t,O as N,av as O,aW as C,W as S,aw as v,aX as w,g as k}from"./index-B5Zfx6Dp.js";import{T as P}from"./truck-D2GmSzlw.js";import{C as T}from"./circle-check-big-DH180LVK.js";import{C as D}from"./circle-x-DcyuO4gP.js";import{S as L}from"./StatusBadge-ThsDvtkB.js";import{E as R}from"./eye-BbA0O436.js";const q=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],V=j("trending-down",q),i=({title:s,value:o,icon:a,trend:n,trendValue:d,color:l})=>e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm flex flex-col justify-between",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:s}),e.jsx("h3",{className:"text-3xl font-bold text-gray-900 mt-1",children:o})]}),e.jsx("div",{className:`p-3 rounded-full ${l}`,children:e.jsx(a,{size:24})})]}),e.jsxs("div",{className:"flex items-center text-xs font-medium",children:[n==="up"?e.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[e.jsx(b,{size:14})," +",d,"%"]}):e.jsxs("span",{className:"text-red-600 flex items-center gap-1",children:[e.jsx(V,{size:14})," -",d,"%"]}),e.jsx("span",{className:"text-gray-400 ml-2",children:"Last 7 days"})]})]}),c=({stats:s})=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(i,{title:"Total Orders",value:s?.totalOrders||0,icon:f,trend:"up",trendValue:"14.4",color:"bg-blue-50 text-blue-600"}),e.jsx(i,{title:"New Orders",value:s?.newOrders||0,icon:P,trend:"up",trendValue:"20.0",color:"bg-orange-50 text-orange-600"}),e.jsx(i,{title:"Completed Orders",value:s?.completedOrders||0,icon:T,trend:"up",trendValue:"85.0",color:"bg-green-50 text-green-600"}),e.jsx(i,{title:"Cancelled Orders",value:s?.canceledOrders||0,icon:D,trend:"down",trendValue:"5.0",color:"bg-red-50 text-red-600"})]});i.propTypes={title:t.string.isRequired,value:t.oneOfType([t.number,t.string]).isRequired,icon:t.elementType.isRequired,trend:t.oneOf(["up","down"]).isRequired,trendValue:t.oneOfType([t.number,t.string]).isRequired,color:t.string.isRequired};c.propTypes={stats:t.shape({totalOrders:t.number,newOrders:t.number,completedOrders:t.number,canceledOrders:t.number})};c.defaultProps={stats:{totalOrders:0,newOrders:0,completedOrders:0,canceledOrders:0}};const B=()=>{const s=N(),{queryParams:o,uiState:a,handlers:n}=O({defaultSortBy:"createdAt",defaultSortOrder:"desc"});console.log(a);const{data:d,isLoading:l,isError:u,error:m}=C(o);if(console.log(d),u)return e.jsx(S,{error:m});const g=d?.data?.orders||[],x=d?.data?.pagination,p=d?.data?.stats,h=[{header:"No.",key:"sno",render:(r,y)=>(o.page-1)*o.limit+y+1},{header:"Order ID",key:"orderId",render:r=>e.jsxs("span",{className:"font-mono font-medium",children:["#",r.orderId]})},{header:"Product",key:"productName",render:r=>e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 truncate max-w-[200px]",children:r.productName}),r.itemsCount>1&&e.jsxs("span",{className:"text-xs text-gray-500",children:["+ ",r.itemsCount-1," other items"]})]})},{header:"Customer",key:"customerName",render:r=>e.jsx("span",{className:"text-gray-700",children:r.customerName})},{header:"Date",key:"createdAt",sortable:!0,render:r=>new Date(r.date).toLocaleDateString("en-IN")},{header:"Price",key:"totalAmount",sortable:!0,render:r=>e.jsx("span",{className:"font-bold text-gray-900",children:k(r?.price)})},{header:"Payment",key:"paymentStatus",render:r=>e.jsxs("span",{className:`flex items-center gap-1.5 text-xs font-medium ${r.paymentStatus==="Paid"?"text-green-600":"text-orange-600"}`,children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${r.paymentStatus==="Paid"?"bg-green-600":"bg-orange-600"}`}),r.paymentStatus]})},{header:"Status",key:"status",render:r=>e.jsx(L,{status:r.status})},{header:"Action",key:"action",render:r=>e.jsx("button",{onClick:()=>s(`/admin/orders/${r._id}`),className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition",title:"View Details",children:e.jsx(R,{size:18})})}];return e.jsxs("div",{className:"p-6 bg-gray-50/50 min-h-screen",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Order Management"}),e.jsx(c,{stats:p}),e.jsx(v,{title:"Order List",columns:h,data:g,pagination:x,isLoading:l,error:m,statusOptions:w,searchValue:a.searchTerm,status:a.status,limit:a.limit,sortConfig:a.sortConfig,onSearchChange:n.onSearchChange,onStatusChange:n.onStatusChange,onLimitChange:n.onLimitChange,onSort:n.onSort,onPageChange:n.onPageChange})]})};export{B as default};
