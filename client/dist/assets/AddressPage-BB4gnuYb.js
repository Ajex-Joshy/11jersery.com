import{r as m,j as e,L as g,Z as u,C as p,P as t,O as h,a1 as b,W as f,h as y}from"./index-199rnzlN.js";import{u as j,a as N}from"./addressHooks-CexdfvMn.js";import{P as v}from"./pen-HmXN4Xp4.js";const c=({address:s,onDelete:i})=>{const[a,r]=m.useState(!1),d=()=>{r(!0)},o=()=>{i(s._id),r(!1)},n=()=>{console.log("modal",a),r(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 relative group hover:border-gray-400 transition bg-white",children:[e.jsx(g,{to:`/account/addresses/edit/${s._id}`,className:"absolute top-4 right-10 p-2 text-gray-400 hover:text-black hover:bg-gray-100 rounded-full transition",title:"Edit Address",children:e.jsx(v,{size:18})}),e.jsx("button",{onClick:d,className:"absolute top-4 right-4 p-2 text-red-600 hover:text-red-800 hover:bg-red-100 rounded-full transition",title:"Delete Address",type:"button",children:e.jsx(u,{size:18})}),e.jsxs("h3",{className:"font-bold text-lg text-gray-900 mb-1",children:[s.firstName," ",s.lastName]}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-1 mb-4",children:[e.jsx("p",{className:"font-medium text-gray-800",children:s.type})," ",e.jsx("p",{children:s.addressLine1}),s.addressLine2&&e.jsx("p",{children:s.addressLine2}),e.jsxs("p",{children:[s.city,", ",s.state]}),e.jsx("p",{children:s.pinCode}),e.jsxs("p",{children:[s.country," "]}),e.jsx("p",{className:"mt-2 font-medium",children:s.phone})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[s.isDefault&&e.jsx("span",{className:"bg-black text-white text-xs font-semibold px-4 py-2 rounded-md",children:"default"}),s.addressName&&e.jsx("span",{className:"bg-blue-600 ml-auto text-white text-xs font-semibold px-4 py-2 rounded-md",children:s.addressName})]})]}),e.jsx(p,{isOpen:a,title:"Delete Address",message:"Are you sure you want to delete this address? This action cannot be undone.",confirmButtonText:"Delete",confirmButtonVariant:"danger",onConfirm:o,onClose:n})]})};c.propTypes={address:t.shape({_id:t.string.isRequired,firstName:t.string.isRequired,lastName:t.string.isRequired,type:t.string,addressLine1:t.string,addressLine2:t.string,city:t.string,state:t.string,pinCode:t.string,country:t.string,phone:t.string,isDefault:t.bool,addressName:t.string}).isRequired,onDelete:t.func.isRequired};const L=()=>{const s=h(),{data:i,isLoading:a,isError:r,error:d}=j(),{mutate:o}=N();if(a)return e.jsx(b,{text:"Loading addresses..."});if(r)return e.jsx(f,{error:d});const n=i?.data||[];return e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Addresses"}),e.jsxs("button",{onClick:()=>s("/account/addresses/new"),className:"w-full bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg p-6 flex items-center justify-center gap-2 text-gray-600 font-semibold hover:bg-gray-200 hover:border-gray-400 transition mb-8",children:[e.jsx(y,{size:20}),"ADD NEW ADDRESS"]}),n.length===0?e.jsx("p",{className:"text-center text-gray-500 py-8",children:"No addresses saved yet."}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n?.data?.map(l=>e.jsx(c,{address:l,onDelete:x=>o(x)},l._id))})]})};export{L as default};
